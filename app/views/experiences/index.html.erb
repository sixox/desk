<div class="col-lg-10 mx-auto mt-5">
  <div class="card mb-5">
    <div class="card-body">
      <div class="row">
        <div class="col-lg-6">
          <div class="d-flex justify-content-start">
            <h3>Experiences</h3>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="d-flex justify-content-end">
            <%= link_to new_experience_path, data: { controller: "bs-modal-form" }, class: "btn btn-success" do %>
              <i class="bi bi-plus"></i> Add Experience
            <% end %>
          </div>
        </div>
      </div>

      <div class="m-2">
        <div class="col-sm">
          <table class="table">
            <thead>
              <tr>
                <th class="col-sm-3">Subject</th>
                <th class="col-sm-2">Author</th>
                <th class="col-sm-2">Department</th>
                <th class="col-sm-1 text-center"><i class="bi bi-eye"></i></th>
                <th class="col-sm-2">Created</th>
                <th class="col-sm-2 text-end">Actions</th>
              </tr>
            </thead>
            <tbody>
              <% @experiences.order(created_at: :desc).each do |experience| %>
                <tr style="font-size: 12px;">
                  <td class="fw-bold">
                    <%= link_to experience.subject, experience_path(experience), class: "notifLink" %>
                  </td>
                  <td><%= experience.user&.first_name.to_s.titleize %></td>
                  <td><%= experience.user&.role.to_s.titleize %></td>
                  <td class="text-center"><%= experience.visits_count %></td>
                  <td><%= experience.created_at.strftime('%d %b') %></td>
                  <td class="text-end">
                    <% if current_user == experience.user %>
                      <%= link_to edit_experience_path(experience),
                          data: { controller: "bs-modal-form" } do %>
                        <i class="bi bi-pencil-square"></i>
                      <% end %>
                      |
                      <%= link_to experience_path(experience),
                          data: { turbo_method: :delete, turbo_confirm: "Are you sure?" } do %>
                        <i class="bi bi-trash3" style="color: red;"></i>
                      <% end %>
                    <% else %>
                      <span class="text-muted">â€”</span>
                    <% end %>
                  </td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-sm">
          <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
              <%= paginate @experiences, remote: true %>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>
